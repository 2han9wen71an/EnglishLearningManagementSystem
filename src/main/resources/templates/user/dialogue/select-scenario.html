<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>情景对话模拟</title>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/normalize.css@8.0.0/normalize.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/lykmapipo/themify-icons@0.1.2/css/themify-icons.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pixeden-stroke-7-icon@1.2.3/pe-icon-7-stroke/dist/pe-icon-7-stroke.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.2.0/css/flag-icon.min.css">
    <link rel="stylesheet" th:href="@{/static/css/cs-skin-elastic.css}">
    <link rel="stylesheet" th:href="@{/static/css/style.css}">

    <link href="https://cdn.jsdelivr.net/npm/chartist@0.11.0/dist/chartist.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/jqvmap@1.5.1/dist/jqvmap.min.css" rel="stylesheet">

    <link href="https://cdn.jsdelivr.net/npm/weathericons@2.1.0/css/weather-icons.css" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/fullcalendar@3.9.0/dist/fullcalendar.min.css" rel="stylesheet" />

    <style>
        .scenario-card {
            transition: transform 0.3s;
            margin-bottom: 20px;
        }
        .scenario-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        .difficulty-badge {
            position: absolute;
            top: 10px;
            right: 10px;
        }
    </style>
</head>

<body>

<!-- Left Panel -->
<div th:replace="common/leftbar::leftbar"/>

<!-- Right Panel -->
<div id="right-panel" class="right-panel">
    <!-- Header-->
    <div th:replace="common/header::header"/>
    <!-- /#header -->
    
    <!-- Content -->
    <div class="content">
        <div class="animated fadeIn">
            <div class="row">
                <div class="col-lg-12">
                    <div class="card">
                        <div class="card-header">
                            <strong class="card-title">情景对话模拟</strong>
                        </div>
                        <div class="card-body">
                            <p>选择一个情景开始对话模拟练习。通过模拟真实场景的对话，提高您的英语口语和应对能力。</p>
                            
                            <!-- 难度选择 -->
                            <div class="btn-group mb-4" role="group">
                                <a th:href="@{/viewDialogueScenarios}" class="btn btn-outline-primary" th:classappend="${difficultyLevel == null ? 'active' : ''}">全部</a>
                                <a th:href="@{/viewDialogueScenariosByDifficulty/1}" class="btn btn-outline-success" th:classappend="${difficultyLevel == 1 ? 'active' : ''}">初级</a>
                                <a th:href="@{/viewDialogueScenariosByDifficulty/2}" class="btn btn-outline-warning" th:classappend="${difficultyLevel == 2 ? 'active' : ''}">中级</a>
                                <a th:href="@{/viewDialogueScenariosByDifficulty/3}" class="btn btn-outline-danger" th:classappend="${difficultyLevel == 3 ? 'active' : ''}">高级</a>
                            </div>
                            
                            <!-- 场景列表 -->
                            <div class="row">
                                <div class="col-md-4" th:each="scenario : ${scenarios}">
                                    <div class="card scenario-card">
                                        <div class="card-header">
                                            <strong th:text="${scenario.scenarioName}">场景名称</strong>
                                            <span class="badge difficulty-badge" 
                                                  th:classappend="${scenario.difficultyLevel == 1 ? 'badge-success' : (scenario.difficultyLevel == 2 ? 'badge-warning' : 'badge-danger')}"
                                                  th:text="${scenario.difficultyLevel == 1 ? '初级' : (scenario.difficultyLevel == 2 ? '中级' : '高级')}">
                                                难度
                                            </span>
                                        </div>
                                        <div class="card-body">
                                            <p th:text="${scenario.scenarioDescription}">场景描述</p>
                                            <a th:href="@{/startDialogue/}+${scenario.scenarioId}" class="btn btn-primary btn-block">开始对话</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- 如果没有场景 -->
                            <div class="alert alert-info" th:if="${scenarios == null || scenarios.isEmpty()}">
                                暂无可用的对话场景。请稍后再试或选择其他难度级别。
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- /.content -->
    
    <div class="clearfix"></div>
    <!-- Footer -->
    <div th:replace="common/footer::footer"/>
    <!-- /.site-footer -->
</div>

<!-- Scripts -->
<script src="https://cdn.jsdelivr.net/npm/jquery@2.2.4/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.4/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/js/bootstrap.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery-match-height@0.7.2/dist/jquery.matchHeight.min.js"></script>
<script th:src="@{/static/js/main.js}"></script>

</body>
</html>
